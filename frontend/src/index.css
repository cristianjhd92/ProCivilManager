/* File: frontend/src/index.css
   Ruta del archivo de estilos globales del frontend.
   Description: Hoja de estilos global del frontend de ProCivil Manager (PCM).
   Configura Tailwind CSS v4 en modo compatibilidad, establece modo oscuro,
   aplica la paleta industrial PCM y define helpers reutilizables (.pcm-*)
   para layout, tarjetas, botones, chips, scroll, overlays y autofill.
   Define Tailwind v4, modo oscuro, paleta industrial (fondos oscuros,
   azules de ingeniería, naranjas de obra) y helpers globales para layout,
   cards, botones, chips, scroll y ajustes finos.
*/

/* ------------------------------------------------------------- */
/* 1. Configuración de Tailwind CSS v4 (modo compatibilidad)     */
/* ------------------------------------------------------------- */

@config "../tailwind.config.js";                               /* Indica a Tailwind qué archivo de configuración usar.   */

@import "tailwindcss";                                         /* Importa Tailwind (base, componentes y utilidades).     */

/* ------------------------------------------------------------- */
/* 2. Estilos base globales (documento, tipografía, selección)   */
/* ------------------------------------------------------------- */

:root {                                                        /* Reglas y variables globales para el documento.         */
  color-scheme: dark;                                          /* Fuerza al navegador a tratar la interfaz como dark.    */

  /* Radios globales alineados con Tailwind (borderRadius.pcm-*) */
  --radius-pcm-xl: 1.5rem;                                     /* Radio grande PCM para tarjetas y modales.              */
  --radius-pcm-xxl: 2rem;                                      /* Radio extra grande PCM para cards muy redondeadas.     */

  /* Colores globales por rol (espejo de tailwind.config)       */
  --pcm-color-role-admin: #2f8dee;                             /* Color de acento para administrador.                    */
  --pcm-color-role-lider: #ff9c2f;                             /* Color de acento para líder de obra.                    */
  --pcm-color-role-cliente: #00b894;                           /* Color de acento para cliente/copropiedad.              */
  --pcm-color-role-auditor: #9b59b6;                           /* Color de acento para auditor/SGI.                      */
}

body {                                                         /* Estilos base sobre el body completo.                   */
  margin: 0;                                                   /* Quita el margen por defecto.                           */
  min-height: 100vh;                                           /* Asegura ocupación mínima de todo el alto de viewport.  */
  font-family: system-ui, -apple-system,                       /* Pila de fuentes principal tipo sistema.                */
    BlinkMacSystemFont, "Segoe UI", sans-serif;                /* Fuentes de respaldo.                                   */
  background-color: #050910;                                   /* Fondo principal oscuro (pcm.bg).                       */
  color: #f5f7fa;                                              /* Color de texto principal (pcm.text).                   */
  -webkit-font-smoothing: antialiased;                         /* Suaviza tipografías en WebKit.                         */
}

code {                                                         /* Estilos para texto dentro de <code>.                   */
  font-family: ui-monospace, SFMono-Regular,                   /* Fuentes monoespaciadas.                                */
    Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", /* Fuentes de respaldo.                                   */
    monospace;                                                 /* Fallback genérico.                                     */
  font-size: 0.9em;                                            /* Un poco más pequeño que el texto normal.               */
}

::selection {                                                  /* Estilo de selección de texto.                          */
  background-color: rgba(47, 141, 238, 0.35);                  /* Azul translúcido (pcm.primary).                        */
  color: inherit;                                              /* Mantiene el color original del texto.                  */
}

/* ------------------------------------------------------------- */
/* 3. Scroll global PCM (cuerpo de la página)                    */
/* ------------------------------------------------------------- */

html,
body {
  scroll-behavior: smooth;                                     /* Desplazamiento suave entre secciones (anchor links).   */
}

/* Scrollbar en navegadores WebKit (Chrome, Edge, Opera, etc.) */
body::-webkit-scrollbar {
  width: 8px;                                                  /* Barra delgada para look moderno.                       */
}

body::-webkit-scrollbar-track {
  background: #020617;                                         /* Pista muy oscura, cercana a pcm.bg.                    */
}

body::-webkit-scrollbar-thumb {
  background-image: linear-gradient(                           /* Thumb con degradado vertical naranja/ámbar PCM.        */
    180deg,
    #ff9c2f,
    #facc15
  );
  border-radius: 9999px;                                       /* Thumb completamente redondeado.                        */
  border: 2px solid #020617;                                   /* Borde oscuro para que se recorte sobre el fondo.       */
}

body::-webkit-scrollbar-thumb:hover {
  background-image: linear-gradient(                           /* En hover, un naranja un poco más vivo.                 */
    180deg,
    #ffb454,
    #f97316
  );
}

/* ------------------------------------------------------------- */
/* 4. Fondo principal con degradado PCM reutilizable             */
/*    (para secciones tipo hero de la landing pública)           */
/* ------------------------------------------------------------- */

.pcm-fondo-degradado-principal {                               /* Helper para fondos tipo hero con degradado industrial. */
  background-image:                                            /* Combina gradientes radiales + lineal.                  */
    radial-gradient(                                           /* Brillo azulado más marcado en la parte superior.      */
      circle at top,
      rgba(47, 141, 238, 0.55),                                /* Subimos opacidad del azul PCM.                         */
      transparent 65%
    ),
    radial-gradient(                                           /* Brillo naranja más notorio en la parte inferior.      */
      circle at bottom,
      rgba(255, 156, 47, 0.38),                                /* Subimos opacidad del naranja PCM.                      */
      transparent 60%
    ),
    linear-gradient(                                           /* Base oscura PCM para que siga siendo “dark”.          */
      135deg,
      #020617,
      #050910,
      #0c1320
    );
  background-repeat: no-repeat;                                /* Sin repetición del patrón.                             */
  background-size: cover;                                      /* Cubre todo el contenedor.                              */
  background-position: center;                                 /* Centra el degradado para que se lea mejor el color.    */
}

/* ------------------------------------------------------------- */
/* 5. Scrollbar personalizada en contenedores (.pcm-scroll-y)    */
/* ------------------------------------------------------------- */

.pcm-scroll-y {                                                /* Contenedor con scroll vertical propio.                 */
  overflow-y: auto;                                            /* Activa scroll vertical automático.                     */
  scrollbar-width: thin;                                       /* Scroll delgado en Firefox.                             */
  scrollbar-color: rgba(148, 163, 184, 0.6) transparent;       /* Thumb gris-azulado, pista transparente en Firefox.     */
}

.pcm-scroll-y::-webkit-scrollbar {                             /* Scroll en navegadores WebKit dentro del contenedor.    */
  width: 8px;                                                  /* Ancho de la barra.                                     */
}

.pcm-scroll-y::-webkit-scrollbar-track {
  background: transparent;                                     /* Pista transparente para integrarse al fondo.           */
}

.pcm-scroll-y::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.5);                        /* Thumb gris-azulado translúcido.                        */
  border-radius: 9999px;                                       /* Forma de píldora.                                      */
}

.pcm-scroll-y::-webkit-scrollbar-thumb:hover {
  background: rgba(47, 141, 238, 0.9);                         /* Azul intenso en hover (pcm.primary).                   */
}

/* ------------------------------------------------------------- */
/* 5b. Scroll del sidebar adaptado por rol                        */
/*     (admin azul, líder naranja, cliente verde)                 */
/* ------------------------------------------------------------- */

/* ADMIN: thumb azul intenso */
.pcm-sidebar-admin .pcm-scroll-y {
  scrollbar-color: rgba(59, 130, 246, 0.95) transparent;       /* Firefox: azul fuerte.                                  */
}

.pcm-sidebar-admin .pcm-scroll-y::-webkit-scrollbar-thumb {
  background-image: linear-gradient(                           /* Degradado azul → cian.                                */
    180deg,
    #2f8dee,
    #38bdf8
  );
}

.pcm-sidebar-admin .pcm-scroll-y::-webkit-scrollbar-thumb:hover {
  background-image: linear-gradient(
    180deg,
    #38bdf8,
    #0ea5e9
  );
}

/* LÍDER: thumb naranja/ámbar */
.pcm-sidebar-lider .pcm-scroll-y {
  scrollbar-color: rgba(249, 115, 22, 0.95) transparent;       /* Firefox: naranja fuerte.                               */
}

.pcm-sidebar-lider .pcm-scroll-y::-webkit-scrollbar-thumb {
  background-image: linear-gradient(                           /* Degradado naranja → amarillo.                         */
    180deg,
    #f97316,
    #facc15
  );
}

.pcm-sidebar-lider .pcm-scroll-y::-webkit-scrollbar-thumb:hover {
  background-image: linear-gradient(
    180deg,
    #fb923c,
    #facc15
  );
}

/* CLIENTE: thumb verde/turquesa */
.pcm-sidebar-cliente .pcm-scroll-y {
  scrollbar-color: rgba(34, 197, 94, 0.95) transparent;        /* Firefox: verde intenso.                                */
}

.pcm-sidebar-cliente .pcm-scroll-y::-webkit-scrollbar-thumb {
  background-image: linear-gradient(                           /* Degradado verde → turquesa.                           */
    180deg,
    #22c55e,
    #14b8a6
  );
}

.pcm-sidebar-cliente .pcm-scroll-y::-webkit-scrollbar-thumb:hover {
  background-image: linear-gradient(
    180deg,
    #4ade80,
    #14b8a6
  );
}

/* ------------------------------------------------------------- */
/* 6. Layout base de página y contenedor central                 */
/* ------------------------------------------------------------- */

.pcm-page {                                                    /* Contenedor base de páginas internas y landing.         */
  min-height: 100vh;                                           /* Ocupa mínimo todo el alto del viewport.                */
  display: flex;                                               /* Usa flexbox para organizar contenido.                  */
  flex-direction: column;                                      /* Coloca los hijos en columna (arriba → abajo).          */
  background-color: #050910;                                   /* Fondo base oscuro.                                     */
  background-image:                                            /* Fondo con halos azules/turquesa de profundidad.        */
    radial-gradient(
      circle at top,
      rgba(47, 141, 238, 0.18),
      transparent 60%
    ),
    radial-gradient(
      circle at bottom,
      rgba(0, 179, 198, 0.16),
      transparent 55%
    );
  background-attachment: fixed;                                /* Efecto de profundidad al hacer scroll.                 */
}

.pcm-container {                                               /* Contenedor central de contenido.                       */
  width: 100%;                                                 /* Ocupa todo el ancho posible.                           */
  max-width: 1200px;                                           /* Ancho máximo para buena lectura.                       */
  margin-left: auto;                                           /* Centrado horizontal.                                   */
  margin-right: auto;                                          /* Centrado horizontal.                                   */
  padding-left: 1.5rem;                                        /* Padding lateral izquierdo.                             */
  padding-right: 1.5rem;                                       /* Padding lateral derecho.                               */
  padding-top: 1.5rem;                                         /* Padding superior.                                      */
  padding-bottom: 1.5rem;                                      /* Padding inferior.                                      */
}

/* ------------------------------------------------------------- */
/* 7. Tarjetas reutilizables (.pcm-card)                         */
/* ------------------------------------------------------------- */

.pcm-card {                                                    /* Card principal “glass” usada en landing y dashboard.   */
  border-radius: 1.25rem;                                      /* Bordes redondeados grandes.                            */
  background-color: rgba(12, 19, 32, 0.96);                    /* Fondo oscuro casi sólido (pcm.surface).                */
  border: 1px solid rgba(35, 46, 64, 0.75);                    /* Borde gris-azulado sutil.                              */
  box-shadow: 0 18px 45px rgba(1, 4, 10, 0.9);                 /* Sombra profunda tipo panel flotante.                   */
  backdrop-filter: blur(16px);                                 /* Efecto de glassmorphism suave.                         */
  padding: 1.5rem;                                             /* Padding interno estándar.                              */
}

.pcm-card-suave {                                              /* Variante de card más ligera.                           */
  border-radius: 1rem;                                         /* Radio ligeramente menor.                               */
  background-color: rgba(18, 26, 42, 0.96);                    /* Fondo algo más claro.                                  */
  border: 1px solid rgba(35, 46, 64, 0.55);                    /* Borde aún más suave.                                   */
}

/* ------------------------------------------------------------- */
/* 8. Encabezados de sección (.pcm-section-*)                    */
/* ------------------------------------------------------------- */

.pcm-section-header {                                          /* Encabezado estándar (título + acciones).               */
  display: flex;                                               /* Flexbox para título y botones.                         */
  align-items: center;                                         /* Alinea verticalmente al centro.                        */
  justify-content: space-between;                              /* Separa título y acciones a los lados.                  */
  gap: 1rem;                                                   /* Espacio entre elementos.                               */
  margin-bottom: 1.25rem;                                      /* Separación frente al contenido.                        */
}

.pcm-section-title {                                           /* Título de sección.                                     */
  font-size: 1.125rem;                                         /* ~18px.                                                 */
  font-weight: 700;                                            /* Negrita.                                               */
  color: #f5f7fa;                                              /* Texto principal PCM.                                   */
}

.pcm-section-subtitle {                                        /* Subtítulo / descripción corta.                         */
  font-size: 0.75rem;                                          /* ~12px.                                                 */
  color: #a5b1c5;                                              /* Texto secundario PCM.                                  */
  margin-top: 0.15rem;                                         /* Pequeña separación respecto al título.                 */
}

.pcm-section-grid {                                            /* Grid reutilizable de secciones.                        */
  display: grid;                                               /* Activa CSS Grid.                                       */
  grid-template-columns: repeat(1, minmax(0, 1fr));            /* Una columna en móvil.                                  */
  gap: 1rem;                                                   /* Separación entre tarjetas.                             */
}

@media (min-width: 768px) {                                    /* A partir de md.                                        */
  .pcm-section-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));          /* Dos columnas en pantallas medianas+.                   */
  }
}

/* ------------------------------------------------------------- */
/* 9. Botones principales PCM (.pcm-btn-*)                       */
/* ------------------------------------------------------------- */

.pcm-btn-primary {                                             /* Botón de acción principal (CTA).                       */
  display: inline-flex;                                        /* Inline-flex para icono + texto.                        */
  align-items: center;                                         /* Centro vertical.                                       */
  justify-content: center;                                     /* Centro horizontal.                                     */
  gap: 0.5rem;                                                 /* Espacio entre icono y texto.                           */
  padding: 0.6rem 1.3rem;                                      /* Padding vertical y horizontal.                         */
  border-radius: 9999px;                                       /* Forma de píldora.                                      */
  font-size: 0.875rem;                                         /* ~14px.                                                 */
  font-weight: 600;                                            /* Seminegrita.                                           */
  color: #050910;                                              /* Texto oscuro sobre fondo naranja.                      */
  border: 1px solid rgba(204, 109, 18, 0.9);                   /* Borde naranja oscuro.                                  */
  background-image:                                            /* Degradado naranja PCM.                                 */
    linear-gradient(135deg, #ff9c2f, #cc6d12);
  box-shadow: 0 12px 30px rgba(204, 109, 18, 0.55);            /* Sombra cálida.                                         */
  transition:                                                  /* Transiciones suaves.                                   */
    transform 0.15s ease-out,
    box-shadow 0.15s ease-out,
    background-image 0.2s ease-out,
    opacity 0.15s ease-out;
  cursor: pointer;                                             /* Cursor de mano.                                        */
}

.pcm-btn-primary:hover {                                       /* Estado hover.                                          */
  transform: translateY(-1px);                                 /* “Levanta” el botón.                                    */
  box-shadow: 0 18px 40px rgba(204, 109, 18, 0.8);             /* Más sombra.                                            */
  background-image:                                            /* Degradado algo más claro.                              */
    linear-gradient(135deg, #ffb24f, #ff9c2f);
}

.pcm-btn-primary:active {                                      /* Estado presionado.                                     */
  transform: translateY(0);                                    /* Vuelve a la posición base.                             */
  box-shadow: 0 6px 20px rgba(1, 4, 10, 0.85);                 /* Sombra más corta (hundido).                            */
}

.pcm-btn-primary:disabled {                                    /* Botón deshabilitado.                                   */
  opacity: 0.6;                                                /* Menos opaco.                                           */
  cursor: not-allowed;                                         /* Cursor de “no permitido”.                              */
  box-shadow: none;                                            /* Sin sombra.                                            */
}

.pcm-btn-ghost {                                               /* Botón secundario tipo ghost.                           */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.5rem 1.1rem;
  border-radius: 9999px;
  font-size: 0.8125rem;
  font-weight: 500;
  color: #a5b1c5;                                              /* Texto gris-azulado.                                    */
  border: 1px solid rgba(35, 46, 64, 0.8);                     /* Borde sutil.                                           */
  background-color: rgba(12, 19, 32, 0.75);                    /* Fondo oscuro suave.                                    */
  transition:
    background-color 0.15s ease-out,
    border-color 0.15s ease-out,
    color 0.15s ease-out,
    transform 0.1s ease-out;
  cursor: pointer;
}

.pcm-btn-ghost:hover {                                         /* Hover del ghost.                                       */
  background-color: rgba(12, 19, 32, 0.95);                    /* Un poco más oscuro.                                    */
  border-color: rgba(74, 222, 255, 0.35);                      /* Borde con toque turquesa.                              */
  color: #f5f7fa;                                              /* Texto más claro.                                       */
}

.pcm-btn-ghost:active {                                        /* Estado presionado.                                     */
  transform: translateY(1px);                                  /* Ligeramente hacia abajo.                               */
}

.pcm-btn-danger {                                              /* Botón de peligro (eliminar, etc.).                     */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.5rem 1.1rem;
  border-radius: 9999px;
  font-size: 0.8125rem;
  font-weight: 600;
  color: #fee2e2;                                              /* Texto rojo claro.                                      */
  background-color: rgba(255, 90, 95, 0.98);                   /* Fondo rojo intenso.                                    */
  border: 1px solid rgba(255, 90, 95, 0.9);
  box-shadow: 0 10px 25px rgba(127, 29, 29, 0.85);
  cursor: pointer;
  transition:
    background-color 0.15s ease-out,
    box-shadow 0.15s ease-out,
    transform 0.1s ease-out,
    opacity 0.15s ease-out;
}

.pcm-btn-danger:hover {                                        /* Hover del danger.                                      */
  background-color: rgba(239, 68, 68, 1);
  box-shadow: 0 14px 32px rgba(127, 29, 29, 0.95);
}

.pcm-btn-danger:active {
  transform: translateY(1px);
  box-shadow: 0 8px 18px rgba(1, 4, 10, 0.9);
}

.pcm-btn-danger:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  box-shadow: none;
}

/* ------------------------------------------------------------- */
/* 9b. Helpers de ancho mínimo estándar para botones PCM         */
/*     (reemplazan min-w-[120px], min-w-[160px], etc.)          */
/* ------------------------------------------------------------- */

.pcm-btn-min-sm {                                              /* Ancho mínimo pequeño (≈120px) para botones secundarios. */
  min-width: 7.5rem;                                           /* 7.5rem = 120px con raíz de 16px.                        */
}

.pcm-btn-min-md {                                              /* Ancho mínimo medio (≈160px) para CTAs principales.     */
  min-width: 10rem;                                            /* 10rem = 160px.                                         */
}

.pcm-btn-min-lg {                                              /* Ancho mínimo grande (≈192px) para botones destacados.  */
  min-width: 12rem;                                            /* 12rem = 192px.                                         */
}

/* ------------------------------------------------------------- */
/* 10. Chips / etiquetas compactas (.pcm-chip)                   */
/* ------------------------------------------------------------- */

.pcm-chip {                                                    /* Chips para estados, etiquetas rápidas, etc.            */
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.25rem 0.7rem;
  border-radius: 9999px;
  font-size: 0.7rem;
  font-weight: 500;
  color: rgba(245, 247, 250, 0.9);
  background-color: rgba(12, 19, 32, 0.9);
  border: 1px solid rgba(35, 46, 64, 0.8);
}

/* ------------------------------------------------------------- */
/* 11. Helpers: overlays y delay de animación                    */
/* ------------------------------------------------------------- */

.pcm-overlay-suave {                                           /* Fondo translúcido para modales/overlays.               */
  background-color: rgba(255, 255, 255, 0.04);
}

.pcm-delay-lento {                                             /* Delay largo reutilizable (2s).                         */
  animation-delay: 2s;
}

/* ------------------------------------------------------------- */
/* 12. Barra decorativa de carga para el hero de la landing      */
/* ------------------------------------------------------------- */

.pcm-barra-carga-hero {                                       /* Barra interna con degradado para simular carga.        */
  background-image: linear-gradient(                          /* Degradado de naranja → turquesa → verde suave.        */
    90deg,
    #ff9c2f,
    #00b3c6,
    #4ade80
  );
  background-size: 200% 100%;                                 /* Permite efecto “shimmer” con animate-shimmer.          */
}

/* ------------------------------------------------------------- */
/* 13. Fix para inputs con autofill en modo oscuro               */
/* ------------------------------------------------------------- */

input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-box-shadow: 0 0 0px 1000px #050910 inset;           /* Rellena el fondo con color oscuro PCM.                 */
  -webkit-text-fill-color: #f5f7fa;                           /* Texto claro para buen contraste.                       */
  caret-color: #f5f7fa;                                       /* Cursor de texto claro.                                 */
  transition:
    background-color 9999s ease-out,
    color 9999s ease-out;                                     /* Truco para evitar parpadeos de autofill.               */
}

input:-webkit-autofill::first-line {
  font-family: inherit;                                       /* Mantiene fuente del input.                             */
  font-size: inherit;                                         /* Mantiene tamaño del texto.                             */
}

/* ------------------------------------------------------------- */
/* 14. Degradado para texto principal de títulos públicos        */
/* ------------------------------------------------------------- */

.pcm-text-degradado-hero {                                    /* Helper para aplicar degradado a texto (bg-clip-text).  */
  background-image: linear-gradient(                          /* Degradado lineal azul → cian → naranja.                */
    90deg,
    #38bdf8,
    #0ea5e9,
    #f97316
  );
  background-size: 160% 100%;                                 /* Un poco más ancho para que el degradado se note bien.  */
  background-position: center;                                /* Centra el degradado sobre el texto.                    */
}

/* ------------------------------------------------------------- */
/* 15. Componentes personalizados: dropdown PCM y cards respuesta */
/* ------------------------------------------------------------- */

/* Contenedor relativo del dropdown PCM (para posicionar la lista). */
.pcm-select-contenedor {
  position: relative;
}

/* Botón principal del dropdown (estado cerrado/abierto). */
.pcm-select {
  width: 100%;
  display: flex;
  align-items: stretch;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.75rem 0.9rem;
  border-radius: 0.9rem;
  border: 1px solid rgba(148, 163, 184, 0.45);
  background-color: rgba(10, 16, 28, 0.96);
  box-shadow: 0 14px 32px rgba(1, 4, 10, 0.9);
  color: #e5e7eb;
  cursor: pointer;
  text-align: left;
  transition:
    background-color 0.15s ease-out,
    border-color 0.15s ease-out,
    box-shadow 0.15s ease-out,
    transform 0.1s ease-out;
}

/* Estado hover del dropdown (un poco más brillante). */
.pcm-select:hover {
  background-color: rgba(12, 20, 34, 0.98);
  border-color: rgba(56, 189, 248, 0.7);
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
  transform: translateY(-1px);
}

/* Estado abierto: borde más marcado tipo “focus ring”. */
.pcm-select-abierto {
  border-color: rgba(56, 189, 248, 0.9);
  box-shadow:
    0 0 0 1px rgba(56, 189, 248, 0.6),
    0 20px 45px rgba(15, 23, 42, 0.98);
}

/* Zona de texto principal del dropdown (título + resumen). */
.pcm-select-texto {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 0.15rem;
}

/* Título principal que muestra el valor seleccionado. */
.pcm-select-titulo {
  font-size: 0.85rem;
  font-weight: 600;
  color: #f9fafb;
}

/* Resumen descriptivo bajo el título. */
.pcm-select-resumen {
  font-size: 0.75rem;
  color: rgba(148, 163, 184, 0.9);
}

/* Zona derecha del dropdown (pill + flecha). */
.pcm-select-estado {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: center;
  gap: 0.25rem;
}

/* “Chip” que muestra el estado / valor corto del dropdown. */
.pcm-select-chip-valor {
  padding: 0.25rem 0.65rem;
  border-radius: 9999px;
  font-size: 0.7rem;
  font-weight: 600;
  color: #020617;
  background-image: linear-gradient(135deg, #38bdf8, #0ea5e9, #f97316);
  box-shadow: 0 8px 20px rgba(37, 99, 235, 0.6);
}

/* Icono de flecha del dropdown. */
.pcm-select-icono {
  font-size: 0.65rem;
  color: rgba(148, 163, 184, 0.9);
  transition: transform 0.18s ease-out, color 0.15s ease-out;
}

/* Cuando el dropdown está abierto, la flecha rota. */
.pcm-select-icono-abierto {
  transform: rotate(180deg);
  color: #e5e7eb;
}

/* Lista desplegable (caja flotante con las opciones). */
.pcm-select-lista {
  position: absolute;
  top: calc(100% + 0.4rem);
  left: 0;
  right: 0;
  max-height: 260px;
  border-radius: 0.95rem;
  background-color: #020617;
  border: 1px solid rgba(30, 64, 175, 0.7);
  box-shadow:
    0 18px 45px rgba(0, 0, 0, 0.95),
    0 0 0 1px rgba(15, 23, 42, 0.9);
  padding: 0.35rem;
  z-index: 40;
}

/* Cada opción de la lista desplegable. */
.pcm-select-opcion {
  width: 100%;
  border: none;
  background: transparent;
  border-radius: 0.7rem;
  padding: 0.5rem 0.7rem;
  text-align: left;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
  margin-bottom: 0.15rem;
  font-size: 0.8rem;
  color: rgba(209, 213, 219, 0.95);
  transition:
    background-color 0.12s ease-out,
    color 0.12s ease-out,
    transform 0.08s ease-out,
    box-shadow 0.12s ease-out;
}

/* Título de la opción dentro de la lista. */
.pcm-select-opcion-titulo {
  font-weight: 600;
}

/* Resumen de la opción. */
.pcm-select-opcion-resumen {
  font-size: 0.72rem;
  color: rgba(148, 163, 184, 0.95);
}

/* Hover de las opciones (degradado suave). */
.pcm-select-opcion:hover {
  background-image: linear-gradient(
    135deg,
    rgba(56, 189, 248, 0.18),
    rgba(14, 165, 233, 0.24),
    rgba(249, 115, 22, 0.22)
  );
  color: #f9fafb;
  transform: translateY(-1px);
  box-shadow: 0 10px 28px rgba(15, 23, 42, 0.9);
}

/* Opción activa/seleccionada (más marcada). */
.pcm-select-opcion-activa {
  background-image: linear-gradient(
    135deg,
    rgba(56, 189, 248, 0.3),
    rgba(37, 99, 235, 0.4),
    rgba(249, 115, 22, 0.38)
  );
  color: #f9fafb;
  box-shadow:
    0 0 0 1px rgba(56, 189, 248, 0.7),
    0 14px 36px rgba(15, 23, 42, 0.95);
}

/* Barra vertical que resalta la opción seleccionada. */
.pcm-select-opcion-activa::before {
  content: "";
  position: absolute;
}

/* Cards de “Tiempo de respuesta” más vivas. */
.pcm-card-respuesta {
  position: relative;
  border-radius: 1.5rem;
  padding: 2.2rem 2rem;
  background-color: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(248, 250, 252, 0.12);
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(14px);
}

/* Borde/halo al pasar el mouse por las cards de respuesta. */
.pcm-card-respuesta:hover {
  border-color: rgba(56, 189, 248, 0.8);
  box-shadow:
    0 22px 55px rgba(0, 0, 0, 0.95),
    0 0 0 1px rgba(15, 23, 42, 0.9);
}

/* Texto de tiempo de respuesta con degradado y más peso. */
.pcm-text-resaltado-respuesta {
  background-image: linear-gradient(
    90deg,
    #38bdf8,
    #0ea5e9,
    #f97316
  );
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
}

/* ------------------------------------------------------------- */
/* 16. Botón principal de login (.pcm-btn-login-principal)       */
/*    Barra naranja grande, 100% de ancho, bien protagonista     */
/* ------------------------------------------------------------- */

.pcm-btn-login-principal {                                     /* Botón CTA exclusivo para la pantalla de login.         */
  position: relative;                                          /* Permite overlays internos (shimmer de carga).          */
  width: 100%;                                                 /* Ocupa todo el ancho de la tarjeta.                     */
  padding: 1rem 1.6rem;                                        /* Altura generosa para que se sienta como barra.         */
  border-radius: 9999px;                                       /* Forma de píldora completa.                             */
  border: 1px solid rgba(248, 250, 252, 0.22);                 /* Borde claro sutil.                                     */
  font-size: 0.95rem;                                          /* Texto un poco más grande que un botón normal.          */
  font-weight: 700;                                            /* Peso fuerte (CTA).                                     */
  letter-spacing: 0.06em;                                      /* Tracking para look más “enterprise”.                   */
  text-transform: uppercase;                                   /* Igual que el primer diseño que te gustaba.             */
  color: #020617;                                              /* Texto oscuro sobre fondo naranja.                      */
  display: inline-flex;                                        /* Flex para centrar texto y spinner.                     */
  align-items: center;                                         /* Centro vertical.                                       */
  justify-content: center;                                     /* Centro horizontal.                                     */
  gap: 0.6rem;                                                 /* Espacio entre spinner y texto.                         */
  background-image:                                            /* Degradado naranja industrial PCM.                      */
    linear-gradient(90deg, #ff9c2f, #ffb24f, #facc15);
  box-shadow:                                                  /* Sombra cálida grande (botón flotante).                 */
    0 18px 40px rgba(204, 109, 18, 0.95);
  cursor: pointer;                                             /* Cursor de mano.                                        */
  transition:                                                  /* Transiciones suaves (no utilidades Tailwind).          */
    transform 0.12s ease-out,
    box-shadow 0.15s ease-out,
    filter 0.18s ease-out,
    opacity 0.15s ease-out;
}

.pcm-btn-login-principal:hover {                               /* Hover del botón de login.                              */
  transform: translateY(-1px);                                 /* Se levanta apenas.                                     */
  box-shadow: 0 22px 55px rgba(204, 109, 18, 1);               /* Más sombra, más protagonista.                          */
  filter: brightness(1.04);                                    /* Un poquito más brillante.                              */
}

.pcm-btn-login-principal:active {                              /* Estado presionado (click).                             */
  transform: translateY(1px);                                  /* Siente que se hunde.                                   */
  box-shadow: 0 10px 26px rgba(1, 4, 10, 0.94);                /* Sombra más corta y oscura.                             */
}

.pcm-btn-login-principal--disabled {                           /* Variante cuando está deshabilitado por carga.          */
  opacity: 0.7;                                                /* Un poco más apagado.                                   */
  cursor: not-allowed;                                         /* Cursor de “no permitido”.                              */
  box-shadow: 0 10px 24px rgba(1, 4, 10, 0.85);                /* Menos sombra para no competir visualmente.             */
}

/* ------------------------------------------------------------- */
/* 17. Contenedor con borde degradado animado reutilizable       */
/*     (para tarjetas como RecuperarContraseña, modales, etc.)   */
/* ------------------------------------------------------------- */

.pcm-borde-animado {                                          /* Contenedor externo que dibuja un borde animado.        */
  position: relative;                                          /* Permite posicionar el pseudo-elemento interno.         */
  border-radius: var(--radius-pcm-xl, 1.5rem);                 /* Usa radio PCM o un valor por defecto.                  */
  padding: 1px;                                                /* Deja un “canal” mínimo para que el borde sea visible.  */
  overflow: visible;                                           /* Asegura que el efecto no se recorte.                   */
}

.pcm-borde-animado::before {                                  /* Capa que pinta el degradado animado alrededor.         */
  content: "";                                                 /* Crea el pseudo-elemento.                               */
  position: absolute;                                          /* Lo posiciona sobre todo el contenedor.                 */
  inset: 0;                                                    /* Ocupa todo el ancho y alto del contenedor.             */
  border-radius: inherit;                                      /* Respeta el mismo radio que el contenedor padre.        */
  background-image: conic-gradient(                            /* Degradado cónico que recorre toda la tarjeta.          */
    from 0deg,
    rgba(47, 141, 238, 0.9),   /* Aproximado pcm.primary.     */
    rgba(56, 189, 248, 0.9),
    rgba(16, 185, 129, 0.9),   /* Aproximado pcm.secondary.   */
    rgba(249, 115, 22, 0.9),   /* Aproximado pcm.accent.      */
    rgba(47, 141, 238, 0.9)
  );
  animation: pcm-border-flow 8s linear infinite;               /* Usa el keyframe global definido en Tailwind.           */
  opacity: 0.9;                                                /* Un poco de transparencia para no competir con el card. */
  z-index: 0;                                                  /* Queda detrás del contenido real.                       */
}

.pcm-borde-animado-contenido {                                /* Contenido real de la tarjeta dentro del borde.         */
  position: relative;                                          /* Para apilarse por encima del pseudo-elemento.          */
  z-index: 1;                                                  /* Se ve sobre el degradado animado.                      */
  border-radius: inherit;                                      /* Mantiene el mismo radio del contenedor externo.        */
}

/* ------------------------------------------------------------- */
/* 18. Barra superior con animación de progreso reutilizable     */
/*     (para tarjetas tipo RecuperarContraseña, login, etc.)     */
/* ------------------------------------------------------------- */

.pcm-barra-progreso-superior {                      /* Franja que luce como barra de progreso animada. */
  background-image: linear-gradient(                /* Degradado con colores PCM (azul, cian, verde, naranja). */
    90deg,
    #2f8dee,
    #00b3c6,
    #4ade80,
    #ff9c2f
  );
  background-size: 250% 100%;                       /* Más grande para permitir el recorrido de la animación.   */
  animation: pcm-barra-progreso 3s linear infinite; /* Movimiento continuo tipo “progreso infinito”.            */
}

/* Animación que desplaza el degradado de izquierda a derecha.  */
@keyframes pcm-barra-progreso {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

/* ------------------------------------------------------------- */
/* 19. Botón principal azul/turquesa reutilizable                */
/*     (para CTAs alternos al botón naranja de login)            */
/* ------------------------------------------------------------- */

.pcm-btn-principal-azul {                                   /* Botón CTA azul/turquesa.                              */
  position: relative;                                       /* Permite overlays internos si se necesitan después.    */
  display: inline-flex;                                     /* Flex para icono + texto.                              */
  align-items: center;                                      /* Centra verticalmente el contenido.                    */
  justify-content: center;                                  /* Centra horizontalmente el contenido.                  */
  gap: 0.55rem;                                             /* Espacio entre icono y texto.                          */
  padding: 0.8rem 1.6rem;                                   /* Tamaño cómodo para escritorio y móvil.                */
  border-radius: 9999px;                                    /* Forma de píldora.                                     */
  border: 1px solid rgba(56, 189, 248, 0.65);               /* Borde cian/azul.                                      */
  font-size: 0.9rem;                                        /* Tamaño de letra medio.                                */
  font-weight: 600;                                         /* Seminegrita.                                          */
  letter-spacing: 0.04em;                                   /* Ligero tracking para look más “tech”.                 */
  text-transform: uppercase;                                /* Coherente con el estilo de login.                     */
  color: #ecfeff;                                           /* Texto casi blanco (azulado) sobre fondo azul.         */
  background-image: linear-gradient(                        /* Degradado azul → cian → turquesa.                     */
    120deg,
    #1d4ed8,
    #0ea5e9,
    #22c55e
  );
  box-shadow:                                               /* Sombra fría, menos cálida que la naranja.             */
    0 16px 38px rgba(15, 23, 42, 0.95),
    0 0 0 1px rgba(30, 64, 175, 0.5);
  cursor: pointer;                                          /* Cursor de mano.                                       */
  transition:                                               /* Transiciones suaves sin depender de Tailwind.         */
    transform 0.12s ease-out,
    box-shadow 0.18s ease-out,
    filter 0.18s ease-out,
    opacity 0.15s ease-out;
}

.pcm-btn-principal-azul:hover {                            /* Hover del botón azul.                                 */
  transform: translateY(-1px);                             /* Se levanta un poquito.                                */
  box-shadow:
    0 22px 52px rgba(15, 23, 42, 0.98),
    0 0 0 1px rgba(56, 189, 248, 0.8);                     /* Halo cian más marcado.                                */
  filter: brightness(1.05);                                /* Un poco más brillante.                                */
}

.pcm-btn-principal-azul:active {                           /* Estado presionado.                                    */
  transform: translateY(1px);                              /* Sensación de “hundido”.                              */
  box-shadow: 0 10px 26px rgba(15, 23, 42, 0.92);          /* Sombra más corta.                                     */
}

.pcm-btn-principal-azul--disabled {                        /* Variante deshabilitada.                              */
  opacity: 0.65;                                           /* Se ve más apagado.                                    */
  cursor: not-allowed;                                     /* Cursor de no permitido.                              */
  box-shadow: 0 10px 22px rgba(15, 23, 42, 0.8);           /* Menos sombra para no competir con estados activos.   */
}

/* ------------------------------------------------------------- */
/* 20. Sistema de paneles por rol (admin / líder / cliente / auditor) */
/*     Define variables de color dinámicas según el rol y un fondo */
/*     con halos que se adaptan automáticamente al tipo de usuario */
/* ------------------------------------------------------------- */

.pcm-panel {                                                   /* Contenedor base de cualquier panel interno PCM.        */
  position: relative;                                          /* Permite overlays y fondos adicionales si se requieren. */
  min-height: 100vh;                                           /* El panel siempre ocupa todo el alto del viewport.      */

  /* Valores por defecto (equivalentes al rol admin)            */
  --pcm-color-acento: var(--pcm-color-role-admin);             /* Color principal de acento del panel.                   */
  --pcm-color-acento-soft: rgba(47, 141, 238, 0.24);           /* Versión suave para halos y brillos de fondo.           */
  --pcm-color-acento-strong: rgba(47, 141, 238, 0.96);         /* Versión intensa para bordes y glows.                   */

  --pcm-color-acento-bg-1: rgba(47, 141, 238, 0.26);           /* Halo superior/izquierdo del panel.                     */
  --pcm-color-acento-bg-2: rgba(0, 179, 198, 0.22);            /* Halo inferior/derecho del panel.                       */

  --pcm-color-acento-border: rgba(47, 141, 238, 0.95);         /* Color de borde para cards destacadas.                  */
}

/* Variante: panel de ADMINISTRADOR (control, azul)             */
.pcm-panel--admin {                                            /* Cuando el usuario tiene rol admin.                     */
  --pcm-color-acento: var(--pcm-color-role-admin);             /* Usa azul de control como acento principal.             */
  --pcm-color-acento-soft: rgba(47, 141, 238, 0.24);           /* Halo suave azulado.                                    */
  --pcm-color-acento-strong: rgba(47, 141, 238, 0.98);         /* Azul intenso para glows.                               */

  --pcm-color-acento-bg-1: rgba(47, 141, 238, 0.28);           /* Halo principal para la esquina superior izquierda.     */
  --pcm-color-acento-bg-2: rgba(0, 179, 198, 0.22);            /* Halo secundario turquesa.                              */

  --pcm-color-acento-border: rgba(47, 141, 238, 0.98);         /* Borde de cards/kpis con enfoque en azul.               */
}

/* Variante: panel de LÍDER DE OBRA (campo, naranja)            */
.pcm-panel--lider {                                            /* Cuando el usuario es líder de obra.                    */
  --pcm-color-acento: var(--pcm-color-role-lider);             /* Naranja de obra como color principal.                  */
  --pcm-color-acento-soft: rgba(255, 156, 47, 0.24);           /* Halo suave naranja.                                    */
  --pcm-color-acento-strong: rgba(255, 156, 47, 0.98);         /* Naranja muy intenso para glows.                        */

  --pcm-color-acento-bg-1: rgba(255, 156, 47, 0.3);            /* Halo superior con más presencia de naranja.            */
  --pcm-color-acento-bg-2: rgba(255, 204, 61, 0.24);           /* Halo inferior con toque amarillo advertencia.          */

  --pcm-color-acento-border: rgba(255, 156, 47, 0.98);         /* Bordes de tarjetas usando el mismo naranja.            */
}

/* Variante: panel de CLIENTE (tranquilidad, verde)             */
.pcm-panel--cliente {                                          /* Cuando el usuario es cliente/copropiedad.              */
  --pcm-color-acento: var(--pcm-color-role-cliente);           /* Verde tranquilidad como acento principal.              */
  --pcm-color-acento-soft: rgba(0, 184, 148, 0.24);            /* Halo suave verdoso.                                    */
  --pcm-color-acento-strong: rgba(0, 184, 148, 0.96);          /* Verde intenso para bordes/glows.                       */

  --pcm-color-acento-bg-1: rgba(0, 184, 148, 0.32);            /* Halo superior verde.                                   */
  --pcm-color-acento-bg-2: rgba(47, 141, 238, 0.2);            /* Mezcla con azul para mantener armonía industrial.      */

  --pcm-color-acento-border: rgba(0, 184, 148, 0.98);          /* Bordes de tarjetas e indicadores principales.          */
}

/* Variante: panel de AUDITOR / SGI (revisión, morado)          */
.pcm-panel--auditor {                                          /* Cuando el usuario pertenece a auditoría/SGI.           */
  --pcm-color-acento: var(--pcm-color-role-auditor);           /* Morado como color principal de acento.                 */
  --pcm-color-acento-soft: rgba(155, 89, 182, 0.26);           /* Halo suave morado.                                     */
  --pcm-color-acento-strong: rgba(155, 89, 182, 0.96);         /* Morado intenso para glows.                             */

  --pcm-color-acento-bg-1: rgba(155, 89, 182, 0.3);            /* Halo superior morado.                                  */
  --pcm-color-acento-bg-2: rgba(47, 141, 238, 0.18);           /* Toque azulado para mantener coherencia PCM.           */

  --pcm-color-acento-border: rgba(155, 89, 182, 0.98);         /* Bordes que refuerzan el color de auditoría.           */
}

/* Fondo del panel que respeta las variables anteriores         */
.pcm-panel-fondo {                                             /* Se aplica junto con .pcm-panel y .pcm-panel--rol-X.    */
  background-image:                                            /* Combina halos de color + base oscura PCM.             */
    radial-gradient(
      circle at top left,
      var(--pcm-color-acento-bg-1),
      transparent 60%
    ),
    radial-gradient(
      circle at bottom right,
      var(--pcm-color-acento-bg-2),
      transparent 60%
    ),
    linear-gradient(
      135deg,
      #050910,
      #050910,
      #0c1320
    );
  background-repeat: no-repeat;                                /* Evita patrones repetidos.                              */
  background-size: cover;                                      /* Cubre toda el área visible.                            */
  background-attachment: fixed;                                /* Sutileza extra de profundidad al hacer scroll.         */
}

/* Encabezado superior del panel interno (usa los colores del panel por rol) */

/* Encabezado superior del panel interno */
/* ------------------------------------- */
/* Nota: aquí NO ponemos background-image. Ese se define por rol abajo. */
.pcm-panel-header {
  background-color: #020617;                                  /* Base oscura neutra, igual que el layout.            */
  border-bottom: 1px solid rgba(15, 23, 42, 0.9);             /* Línea que separa header del contenido.              */
}

/* ADMIN: mismo fondo que el sidebar admin */
.pcm-panel--admin .pcm-panel-header {
  background-image:
    radial-gradient(
      circle at top,
      rgba(47, 141, 238, 0.55),
      transparent 65%
    ),
    radial-gradient(
      circle at bottom,
      rgba(56, 189, 248, 0.32),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      #020617,
      #050910,
      #0c1320
    );
}

/* LÍDER DE OBRA: mismo fondo que el sidebar líder */
.pcm-panel--lider .pcm-panel-header {
  background-image:
    radial-gradient(
      circle at top,
      rgba(249, 115, 22, 0.6),
      transparent 65%
    ),
    radial-gradient(
      circle at bottom,
      rgba(234, 179, 8, 0.32),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      #020617,
      #050910,
      #111827
    );
}

/* CLIENTE: mismo fondo que el sidebar cliente */
.pcm-panel--cliente .pcm-panel-header {
  background-image:
    radial-gradient(
      circle at top,
      rgba(34, 197, 94, 0.5),
      transparent 65%
    ),
    radial-gradient(
      circle at bottom,
      rgba(45, 212, 191, 0.32),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      #020617,
      #050910,
      #0f172a
    );
}


/* ------------------------------------------------------------- */
/* 21. Tarjetas de KPIs del panel interno (.pcm-card-kpi)        */
/*     Usan el color de acento definido por el rol del panel     */
/*     a través de las variables CSS declaradas en .pcm-panel    */
/* ------------------------------------------------------------- */

.pcm-card-kpi {                                                /* Card para métricas principales (SN, % avance, etc.).   */
  position: relative;                                          /* Permite pseudo-elementos para halos y bordes.          */
  border-radius: 1.25rem;                                      /* Bordes redondeados grandes, coherentes con .pcm-card.  */
  padding: 1.15rem 1.25rem;                                    /* Padding interno compacto pero cómodo.                  */
  background-color: rgba(12, 19, 32, 0.98);                    /* Fondo oscuro sólido, similar a pcm.surface.            */
  border: 1px solid rgba(35, 46, 64, 0.9);                     /* Borde gris-azulado base.                               */
  box-shadow: 0 18px 40px rgba(1, 4, 10, 0.9);                 /* Sombra profunda, estilo panel flotante.                */
  overflow: hidden;                                            /* Recorta halos internos al contorno del card.           */
}

/* Halo y borde dinámicos que usan el color de acento del rol   */
.pcm-card-kpi::before {                                        /* Capa interna para borde brillante.                     */
  content: "";                                                 /* Crea el pseudo-elemento.                               */
  position: absolute;                                          /* Cubre toda la tarjeta.                                 */
  inset: 0;                                                    /* Se ajusta a los bordes del card.                       */
  border-radius: inherit;                                      /* Respeta el mismo radio que la tarjeta.                 */
  border: 1px solid var(--pcm-color-acento-border);            /* Usa el color de borde dinámico según el rol.           */
  opacity: 0.5;                                                /* Borde sutil (no demasiado agresivo).                   */
  pointer-events: none;                                        /* No bloquea interacciones del usuario.                  */
}

/* Halo de luz suave en la parte superior de la tarjeta         */
.pcm-card-kpi::after {                                         /* Capa de halo interno.                                  */
  content: "";                                                 /* Crea el pseudo-elemento.                               */
  position: absolute;                                          /* Se ubica dentro del card.                              */
  inset: -40% 0 40% 0;                                         /* Cubre principalmente la parte superior.                */
  background: radial-gradient(                                /* Halo que se funde con el fondo.                        */
    circle at top,
    var(--pcm-color-acento-soft),
    transparent 65%
  );
  opacity: 0.9;                                                /* Intensidad visible pero no excesiva.                   */
  mix-blend-mode: screen;                                      /* Se mezcla con el fondo de manera luminosa.             */
  pointer-events: none;                                        /* No afecta clics dentro del card.                       */
}

/* Hover: micro-animación de “levantar” y reforzar la lectura   */
.pcm-card-kpi:hover {                                          /* Estado al pasar el cursor sobre la tarjeta.            */
  transform: translateY(-2px);                                 /* Se levanta ligeramente.                                */
  box-shadow: 0 22px 55px rgba(1, 4, 10, 0.98);                /* Sombra más larga, sensación de flotante.               */
}

/* Versión esqueletón opcional (para carga de datos)             */
.pcm-card-kpi--skeleton {                                      /* Se puede combinar con animate-skeleton-pulse.          */
  background: linear-gradient(                                 /* Fondo degradado suave tipo skeleton.                   */
    90deg,
    rgba(15, 23, 42, 0.9),
    rgba(30, 64, 175, 0.7),
    rgba(15, 23, 42, 0.9)
  );
  background-size: 200% 100%;                                  /* Permite movimiento suave si se anima.                  */
}

/* ------------------------------------------------------------- */
/* 22. Fondos por rol para el sidebar del workspace               */
/*     (admin → azul, líder → naranja, cliente → verde)          */
/* ------------------------------------------------------------- */

/* Sidebar para ADMIN: más carga de azules y cian. */
.pcm-sidebar-admin {
  background-image:
    radial-gradient(
      circle at top,
      rgba(47, 141, 238, 0.55),
      transparent 65%
    ),
    radial-gradient(
      circle at bottom,
      rgba(56, 189, 248, 0.32),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      #020617,
      #050910,
      #0c1320
    );
}

/* Sidebar para LÍDER DE OBRA: acentos naranja / ámbar. */
.pcm-sidebar-lider {
  background-image:
    radial-gradient(
      circle at top,
      rgba(249, 115, 22, 0.6),
      transparent 65%
    ),
    radial-gradient(
      circle at bottom,
      rgba(234, 179, 8, 0.32),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      #020617,
      #050910,
      #111827
    );
}

/* Sidebar para CLIENTE: acentos verde / turquesa. */
.pcm-sidebar-cliente {
  background-image:
    radial-gradient(
      circle at top,
      rgba(34, 197, 94, 0.5),
      transparent 65%
    ),
    radial-gradient(
      circle at bottom,
      rgba(45, 212, 191, 0.32),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      #020617,
      #050910,
      #0f172a
    );
}

/* ------------------------------------------------------------- */
/* 22b. Afinar el SIDEBAR por rol (logo, título, opción activa,  */
/*      indicador y footer de "Cerrar sesión")                   */
/* ------------------------------------------------------------- */

/* Base común del sidebar (además del fondo por rol) */
.pcm-sidebar-raiz {
  background-color: #020617;              /* Fondo base oscuro coherente con el resto del panel. */
  background-repeat: no-repeat;
  background-size: cover;
}

/* Logo circular del sidebar (el gradiente cambia por rol) */
.pcm-sidebar-logo {
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.9);
}

/* Texto "ProCivil Manager" con degradado por rol */
.pcm-sidebar-titulo {
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
}

/* Subtítulo "Sistema de gestión" ligeramente desaturado */
.pcm-sidebar-subtitulo {
  color: rgba(203, 213, 225, 0.9);
}

/* Indicador vertical de la opción activa ( se pinta por rol) */
.pcm-sidebar-indicador-activo {                               /* Base si no se detecta rol.                             */
  background-color: #38bdf8;                                  /* Azul por defecto.                                      */
  box-shadow:                                                 /* Glow para que se lea mejor en todos los roles.        */
    0 0 0 1px rgba(15, 23, 42, 0.9),
    0 0 14px rgba(56, 189, 248, 0.9);
}

/* Estado visual de la opción activa (el degradado lo pone el rol) */
.pcm-sidebar-opcion-activa {
  background-color: rgba(15, 23, 42, 0.98);
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.9);
}

/* Footer de usuario: tarjeta con degradado suave, sin rojo por defecto */
.pcm-sidebar-footer {
  position: relative;                                          /* Necesario para el pseudo-elemento.                     */
  overflow: hidden;                                            /* Recorta el halo interno.                               */
  background-color: rgba(15, 23, 42, 0.98);                    /* Base oscura.                                           */
  border-radius: var(--radius-pcm-xl, 1.5rem);                 /* Asegura bordes suaves coherentes.                      */
  border: 1px solid rgba(148, 163, 184, 0.35);                 /* Borde neutro (sin rojo en reposo).                     */
  box-shadow: 0 14px 32px rgba(0, 0, 0, 0.9);                  /* Sombra base.                                           */
  transition:                                                  /* Transición suave para borde y brillo.                  */
    border-color 0.22s ease-out,
    box-shadow 0.22s ease-out;
}

/* Halo rojo: sólo se ve cuando se hace hover */
.pcm-sidebar-footer::before {
  content: "";
  position: absolute;
  inset: -40% -40% 40% -40%;
  background: radial-gradient(
    circle at top,
    rgba(248, 113, 113, 0.8),
    transparent 70%
  );
  opacity: 0;                                                  /* Oculto por defecto.                                    */
  mix-blend-mode: screen;                                      /* Hace que el rojo sea luminoso.                         */
  pointer-events: none;
  transition:
    opacity 0.25s ease-out,
    transform 0.25s ease-out;
}

/* Avatar del footer: círculo con degradado tenue que cambia por rol */
.pcm-sidebar-avatar {
  background-color: rgba(15, 23, 42, 0.95);
  transition:
    background-image 0.25s ease-out,
    box-shadow 0.25s ease-out,
    transform 0.15s ease-out;
}

/* Texto del rol en el footer (un poco más grande y con más jerarquía) */
.pcm-sidebar-rol {
  color: #facc15;                         /* Valor por defecto, se ajusta por rol.                  */
  font-size: 0.8rem;                      /* Más grande para que no se pierda.                      */
  font-weight: 700;                       /* Negrita.                                               */
  letter-spacing: 0.03em;                 /* Ligero tracking tipo etiqueta.                         */
}

/* ---------------------------- */
/* ADMINISTRADOR (azules)      */
/* ---------------------------- */

.pcm-sidebar-admin .pcm-sidebar-logo {
  background-image: linear-gradient(135deg, #1d4ed8, #0ea5e9);
}

.pcm-sidebar-admin .pcm-sidebar-titulo {
  background-image: linear-gradient(120deg, #2f8dee, #38bdf8);
}

.pcm-sidebar-admin .pcm-sidebar-opcion-activa {
  background-image: linear-gradient(135deg, #1d4ed8, #0ea5e9);
}

.pcm-sidebar-admin .pcm-sidebar-indicador-activo {
  background-color: #2f8dee;                                   /* Azul admin intenso.                                    */
  box-shadow:
    0 0 0 1px rgba(15, 23, 42, 0.9),
    0 0 16px rgba(37, 99, 235, 0.98);
}

.pcm-sidebar-admin .pcm-sidebar-footer {
  background-image: linear-gradient(
    135deg,
    rgba(15, 23, 42, 0.98),
    rgba(37, 99, 235, 0.45)
  );
}

.pcm-sidebar-admin .pcm-sidebar-avatar {
  background-image: linear-gradient(135deg, #1d4ed8, #0ea5e9);
}

.pcm-sidebar-admin .pcm-sidebar-rol {
  color: #bfdbfe;                         /* Azul claro que resalta más.                             */
}

/* ---------------------------- */
/* LÍDER DE OBRA (naranjas)    */
/* ---------------------------- */

.pcm-sidebar-lider .pcm-sidebar-logo {
  background-image: linear-gradient(135deg, #f97316, #facc15);
}

.pcm-sidebar-lider .pcm-sidebar-titulo {
  background-image: linear-gradient(120deg, #f97316, #ff9c2f, #facc15);
}

.pcm-sidebar-lider .pcm-sidebar-opcion-activa {
  background-image: linear-gradient(135deg, #ea580c, #f97316, #facc15);
}

.pcm-sidebar-lider .pcm-sidebar-indicador-activo {
  background-color: #f97316;                                   /* Naranja líder.                                         */
  box-shadow:
    0 0 0 1px rgba(15, 23, 42, 0.9),
    0 0 16px rgba(249, 115, 22, 0.98);
}

.pcm-sidebar-lider .pcm-sidebar-footer {
  background-image: linear-gradient(
    135deg,
    rgba(15, 23, 42, 0.98),
    rgba(245, 158, 11, 0.45)
  );
}

.pcm-sidebar-lider .pcm-sidebar-avatar {
  background-image: linear-gradient(135deg, #f97316, #facc15);
}

.pcm-sidebar-lider .pcm-sidebar-rol {
  color: #fed7aa;                         /* Naranja claro que se lee mejor.                        */
}

/* ---------------------------- */
/* CLIENTE (verdes / turquesa) */
/* ---------------------------- */

.pcm-sidebar-cliente .pcm-sidebar-logo {
  background-image: linear-gradient(135deg, #10b981, #22c55e);
}

.pcm-sidebar-cliente .pcm-sidebar-titulo {
  background-image: linear-gradient(120deg, #22c55e, #14b8a6, #4ade80);
}

.pcm-sidebar-cliente .pcm-sidebar-opcion-activa {
  background-image: linear-gradient(135deg, #059669, #10b981, #22c55e);
}

.pcm-sidebar-cliente .pcm-sidebar-indicador-activo {
  background-color: #22c55e;                                   /* Verde cliente.                                         */
  box-shadow:
    0 0 0 1px rgba(15, 23, 42, 0.9),
    0 0 16px rgba(34, 197, 94, 0.98);
}

.pcm-sidebar-cliente .pcm-sidebar-footer {
  background-image: linear-gradient(
    135deg,
    rgba(15, 23, 42, 0.98),
    rgba(16, 185, 129, 0.45)
  );
}

.pcm-sidebar-cliente .pcm-sidebar-avatar {
  background-image: linear-gradient(135deg, #10b981, #22c55e);
}

.pcm-sidebar-cliente .pcm-sidebar-rol {
  color: #bbf7d0;                         /* Verde muy claro para que destaque.                     */
}

/* ---------------------------- */
/* HOVER ROJO GLOBAL DE CERRAR */
/* ---------------------------- */

/* En hover el botón se vuelve claramente rojo y el halo se enciende */
.pcm-sidebar-footer:hover {
  border-color: rgba(248, 113, 113, 0.9);
  background-image: linear-gradient(
    135deg,
    #450a0a,
    #b91c1c,
    #ef4444
  );
  box-shadow:
    0 18px 40px rgba(0, 0, 0, 0.95),
    0 0 0 1px rgba(248, 113, 113, 0.9),
    0 0 28px rgba(248, 113, 113, 0.95);
}

.pcm-sidebar-footer:hover::before {
  opacity: none;
  transform: translateY(-6px);
}

/* El círculo y el icono de usuario se tiñen de rojo para reforzar la acción */
.pcm-sidebar-footer:hover .pcm-sidebar-avatar {
  background-image: linear-gradient(135deg, #fee2e2, #fecaca);
  transform: translateY(-1px);
  box-shadow:
    0 0 0 2px rgba(248, 113, 113, 0.95),
    0 10px 26px rgba(0, 0, 0, 0.95);
}

.pcm-sidebar-footer:hover .pcm-sidebar-avatar svg {
  color: #b91c1c;
}

/* Variante estática del borde PCM para modales que no deben girar */
.pcm-borde-animado-estatico {
  position: relative;             /* Igual que el contenedor original */
  border-radius: 1.25rem;         /* Alineado con rounded-pcm-xl */
  padding: 1px;                   /* Espacio para el “borde” */
  overflow: hidden;               /* Para que nada se salga de las esquinas redondeadas */
  background-image: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.9),      /* Azul PCM aprox */
    rgba(249, 115, 22, 0.9)       /* Naranja PCM aprox */
  );                              /* Degradado fijo, sin animación */
}

/* Asegura que el contenido interno herede el radio y no tape el borde */
.pcm-borde-animado-estatico .pcm-borde-animado-contenido {
  border-radius: inherit;
}
