# File: BackEnd/.env.example                                              # Copia este archivo como ".env" y completa los valores
# Descripción: Variables de entorno para el servidor Node/Express + DB    # No incluyas credenciales reales en git

# =========================
# App / Servidor HTTP
# =========================
PORT=5000                                                                 # Puerto de Express
NODE_ENV=development                                                      # development | production | test
CORS_ORIGIN=http://localhost:5173                                         # URL del Front (Vite por defecto 5173). En prod: https://tu-frontend.com

# =========================
# Base de datos (MongoDB)
# =========================
# Opción local:
# MONGO_URI=mongodb://localhost:27017/procivil_manager

# Opción Atlas (ejemplo con placeholders):
MONGO_URI=mongodb+srv://<MONGO_USER>:<MONGO_PASS>@<CLUSTER_HOST>/<DB_NAME>?retryWrites=true&w=majority
MONGOOSE_DEBUG=true                                                       # true en dev para ver queries en consola

# =========================
# Autenticación (JWT)
# =========================
JWT_SECRET=<cambia_esta_clave_super_secreta>                              # Secreto para firmar Access JWT (mín. ~32 chars)
JWT_ACCESS_EXPIRES=15m                                                    # Duración del Access (p.ej. 15m, 1h)
JWT_ISSUER=procivil-manager                                               # Claim "iss" (opcional)
JWT_AUDIENCE=procivil-manager-frontend                                    # Claim "aud" (opcional)

# =========================
# Refresh Tokens (Cookie HttpOnly)
# =========================
REFRESH_TOKEN_TTL_DAYS=30                                                 # Vida del refresh (días)
REFRESH_TOKEN_COOKIE=pm_rt                                                # Nombre de la cookie
REFRESH_COOKIE_DOMAIN=localhost                                           # Dominio cookie; en prod ej: .tu-dominio.com
REFRESH_COOKIE_PATH=/                                                     # Path cookie
REFRESH_COOKIE_HTTPONLY=true                                              # No accesible desde JS
REFRESH_COOKIE_SECURE=false                                               # true en prod (requiere HTTPS); false en dev http
REFRESH_COOKIE_SAMESITE=Lax                                               # Lax en dev; en prod cross-site usar "None"

# =========================
# Correo saliente (SMTP)
# =========================
SMTP_HOST=smtp.gmail.com                                                  # Host SMTP
SMTP_PORT=465                                                             # 465 (SSL) | 587 (STARTTLS)
SMTP_SECURE=true                                                          # true si 465; false si 587
SMTP_USER=<tu_correo_smtp>@gmail.com                                      # Usuario SMTP (correo completo)
SMTP_PASS=<tu_app_password_o_password_smtp>                               # App Password (no el password normal)
MAIL_FROM="Procivil Manager" <no-reply@tu-dominio.com>                    # Remitente por defecto
SUPPORT_EMAIL=soporte@tu-dominio.com                                      # Correo de soporte

# =========================
# Frontend / URLs
# =========================
FRONTEND_URL=http://localhost:5173                                        # URL base del Front (para enlaces en correos, etc.)

# =========================
# Notificaciones internas
# =========================
CONTACT_NOTIFICATIONS_TO=notificaciones@tu-dominio.com                    # Destinatarios contacto (CSV si varios)
PROJECT_NOTIFICATIONS_TO=notificaciones@tu-dominio.com                    # Destinatarios proyectos (CSV si varios)

# =========================
# Rate limiting (opcional)
# =========================
RATE_LIMIT_LOGIN_WINDOW_MIN=15                                            # Ventana (minutos)
RATE_LIMIT_LOGIN_MAX=3                                                    # Intentos por IP/ventana
